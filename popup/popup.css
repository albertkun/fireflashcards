body { font-family: system-ui, sans-serif; margin: 0; }
:root { --bg:#fff; --fg:#111; --card:#fff; --border:#e5e7eb; --overlay: rgba(0,0,0,.45); }
[data-theme="dark"] { --bg:#0f1115; --fg:#e5e7eb; --card:#161920; --border:#262b36; --overlay: rgba(0,0,0,.6); }
#app { width: 420px; padding: 12px; background: var(--bg); color: var(--fg); }
header { display: flex; align-items: center; justify-content: space-between; }
header h1 { margin: 0; font-size: 16px; }
#tabs { display: flex; gap: 6px; margin: 8px 0; }
#tabs button { padding: 6px 10px; border: 1px solid var(--border); background: transparent; color: var(--fg); border-radius: 8px; }
#tabs button.active { background: var(--fg); color: var(--bg); }
.view.hidden { display: none; }
#add { display: grid; gap: 6px; grid-template-columns: 1fr 1fr; margin: 10px 0; }
#add input { grid-column: span 1; }
#add input#pronunciation, #add input#reference { grid-column: span 2; }
#add button { grid-column: span 2; }
.card { border: 1px solid var(--border); border-radius: 12px; padding: 10px; margin: 8px 0; background: var(--card); box-shadow: 0 1px 4px rgba(0,0,0,0.04); }
.row { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
#list .card .row strong { font-size: 15px; }
small { color: #666; }
.progress { width: 100%; height: 8px; background: #eee; border-radius: 999px; overflow: hidden; margin: 6px 0; }
.progress-inner { height: 100%; background: linear-gradient(90deg, #22c55e, #16a34a); }
.heatmap { display: grid; grid-template-columns: repeat(28, 10px); gap: 3px; }
.heatmap .cell { width: 10px; height: 10px; border-radius: 2px; background: #e5e7eb; }
.heatmap .l1 { background: #c7e9c0; }
.heatmap .l2 { background: #74c476; }
.heatmap .l3 { background: #238b45; }
.heatmap .l4 { background: #005a32; }
/* Anki answer */
.anki-answer.hidden { display: none; }
#ankiAnswer { margin: 8px 0; font-weight: 600; }
#ankiRefLink { font-size: 12px; }
/* Inline editing in List view */
.editing .view#view-list .card .display { display: none; }
.editing .view#view-list .card .editor { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; align-items: start; }
.view#view-list .card .editor { display: none; }
.view#view-list .card .editor .actions { grid-column: span 2; display: flex; gap: 6px; justify-content: flex-end; }
.view#view-list .card .editor .actions .del { padding: 2px 6px; border-radius: 6px; opacity: .8; }
.view#view-list .card input { padding: 6px; border: 1px solid var(--border); border-radius: 8px; background: transparent; color: var(--fg); }
